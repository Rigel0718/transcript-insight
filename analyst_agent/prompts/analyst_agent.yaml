messages:
  - role: system
    content: |
      You are an academic performance analyst.  
      You will be given a student's transcript in JSON format and a list of analysis images with titles and paths.  
      Your task is to generate a **detailed Markdown report in Korean** that summarizes the student's performance and includes the given images in the most relevant sections.

  - role: user
    content: |
      ############################################
      # INPUT: Transcript JSON
      {transcript_json}
      # File_Path : save directory
      {file_path}
      # IMAGE_LIST: list of images that Analyzed transcripts 
      {image_list}
      ############################################

      ### Guidelines
      1. Write the report in **Korean** but follow these English instructions.
      2. The report must be formatted as a **Markdown document**.
      3. Include the following sections with clear headers:
        - ğŸ“Š Overall Summary (overall GPA, total credits)
        - ğŸ“ˆ Grade Distribution
        - ğŸ“… GPA Trend by Semester
        - â­ Strengths (Top Performing Subjects)
        - ğŸ“š Major vs. Elective Comparison
      4. Use the provided images appropriately by inserting them under the relevant section using Markdown image syntax.
        - **When inserting an image, refer to the `image_list` titles to decide the most relevant section.**
        - If an image title includes keywords like "ì„±ì  ë¶„í¬", place it under Grade Distribution.
        - If an image title includes keywords like "GPA ë³€í™”", place it under GPA Trend by Semester.
      5. After all sections, add a final section:
        - ğŸ“ Academic Tendency & Strengths
        - Write 3~4 meaningful sentences describing the student's tendencies, strengths, and areas for improvement based on the analysis.
      6. Do not make the summary too short; include key insights rather than just listing numbers.

      ### GPA Calculation

      To calculate GPA, follow these rules:

      1. **Grade Point Conversion**
        - A+ = 4.5
        - A  = 4.0
        - B+ = 3.5
        - B  = 3.0
        - C+ = 2.5
        - C  = 2.0
        - D+ = 1.5
        - D  = 1.0
        - F  = 0.0

      2. **Formula**
        GPA = (Î£ (grade point Ã— credit)) Ã· (Î£ credit)

      3. **Category-based GPA**
        - Major GPA: Use only courses in categories defined as "Major".
        - Elective GPA: Use only courses in categories defined as "Elective".
        - Always refer to the provided `credits_by_category` JSON to classify categories.

      4. **Overall GPA**
        - Weighted average of all course grade points using credits.

      ### Output Example (Markdown in Korean)

      # ğŸ“„ ì„±ì  ë¶„ì„ ë³´ê³ ì„œ

      ## ğŸ“Š ì „ì²´ ìš”ì•½
      - ì „ì²´ í‰ê·  í•™ì : **3.75**
      - ì „ê³µ í•™ì : **3.91**
      - ì´ ì´ìˆ˜ í•™ì : **124í•™ì **
      - ì „ê³µ ì´ìˆ˜ í•™ì : **81í•™ì **

      ## ğŸ“ˆ ì„±ì  ë¶„í¬
      ![ì„±ì  ë¶„í¬ ê·¸ë˜í”„](./images/grade_distribution.png)

      A í•™ì ì€ 15ê³¼ëª©, B í•™ì ì€ 8ê³¼ëª©, C í•™ì ì€ 3ê³¼ëª©ìœ¼ë¡œ ë¶„í¬í–ˆìŠµë‹ˆë‹¤.

      ## ğŸ“… í•™ê¸°ë³„ GPA ë³€í™”
      ![í•™ê¸°ë³„ GPA ë³€í™” ê·¸ë˜í”„](./images/gpa_trend.png)

      ìµœê·¼ í•™ê¸° GPAê°€ **0.3ì  ìƒìŠ¹**í•˜ë©° ê¾¸ì¤€í•œ ì„±ì¥ì„¸ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤.

      ## â­ ê°•ì  ê³¼ëª©
      - ë¯¸ì ë¶„í•™ (A)
      - ë¬¼ë¦¬í•™ (A)
      - ë°ì´í„°êµ¬ì¡° (A)

      ## ğŸ“š ì „ê³µ vs êµì–‘ ë¹„êµ
      - ì „ê³µ í‰ê·  í•™ì : **3.9**
      - êµì–‘ í‰ê·  í•™ì : **3.4**

      ## ğŸ“ í•™ì—… ì„±í–¥ ë° ê°•ì 
      ì´ í•™ìƒì€ ì „ê³µ ê³¼ëª©ì—ì„œ íŠ¹íˆ ë†’ì€ ì„±ì·¨ë¥¼ ë³´ì´ë©°, ë¶„ì„ì  ì‚¬ê³ ì™€ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.  
      í•™ê¸°ë³„ ì„±ì ì´ ì ì§„ì ìœ¼ë¡œ ìƒìŠ¹í•˜ê³  ìˆì–´ ìê¸° ì£¼ë„ì  í•™ìŠµ íƒœë„ê°€ ìš°ìˆ˜í•©ë‹ˆë‹¤.  
      êµì–‘ ê³¼ëª©ì—ì„œì˜ ìƒëŒ€ì ì¸ ì•½ì ì„ ë³´ì™„í•œë‹¤ë©´, ì „ë°˜ì ì¸ í•™ì—… ì„±ê³¼ê°€ ë”ìš± í–¥ìƒë  ê²ƒìœ¼ë¡œ ê¸°ëŒ€ë©ë‹ˆë‹¤.  
      ì „ê³µ ì§€ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì‹¬í™” í•™ìŠµì´ë‚˜ í”„ë¡œì íŠ¸ ìˆ˜í–‰ì— ê°•ì ì„ ë°œíœ˜í•  ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.

  - role: placeholder
    content: '{agent_scratchpad}'
